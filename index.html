<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A programmatic interface to FishBase, re-written
    based on an accompanying RESTful API. Access tables describing over 30,000
    species of fish, their biology, ecology, morphology, and more. This package also
    supports experimental access to SeaLifeBase data, which contains
    nearly 200,000 species records for all types of aquatic life not covered by
    FishBase.">
<title>R Interface to FishBase • rfishbase</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="R Interface to FishBase">
<meta property="og:description" content="A programmatic interface to FishBase, re-written
    based on an accompanying RESTful API. Access tables describing over 30,000
    species of fish, their biology, ecology, morphology, and more. This package also
    supports experimental access to SeaLifeBase data, which contains
    nearly 200,000 species records for all types of aquatic life not covered by
    FishBase.">
<meta property="og:image" content="https://docs.ropensci.org/rfishbase/logo.svg">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="index.html">rfishbase</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">4.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rfishbase/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="rfishbase-">rfishbase <a class="anchor" aria-label="anchor" href="#rfishbase-"></a>
</h1>
</div>
<!-- badges: start -->
<p>Welcome to <code>rfishbase 4</code>. This is the fourth rewrite of the original <code>rfishbase</code> package described in <a href="https://doi.org/10.1111/j.1095-8649.2012.03464.x" class="external-link">Boettiger et al. (2012)</a>.</p>
<ul>
<li>
<code>rfishbase 1.0</code> relied on parsing of XML pages served directly from Fishbase.org.<br>
</li>
<li>
<code>rfishbase 2.0</code> relied on calls to a ruby-based API, <code>fishbaseapi</code>, that provided access to SQL snapshots of about 20 of the more popular tables in FishBase or SeaLifeBase.</li>
<li>
<code>rfishbase 3.0</code> side-stepped the API by making queries which directly downloaded compressed csv tables from a static web host. This substantially improved performance a reliability, particularly for large queries. The release largely remained backwards compatible with 2.0, and added more tables.</li>
<li>
<code>rfishbase 4.0</code> extends the static model and interface. Static tables are distributed in parquet and accessed through a provenance-based identifier. While old functions are retained, a new interface is introduced to provide easy access to all fishbase tables.</li>
</ul>
<p>We welcome any feedback, issues or questions that users may encounter through our issues tracker on GitHub: <a href="https://github.com/ropensci/rfishbase/issues" class="external-link uri">https://github.com/ropensci/rfishbase/issues</a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ropensci/rfishbase"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://docs.ropensci.org/rfishbase/">"rfishbase"</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span> <span class="co"># convenient but not required</span></span></code></pre></div>
</div>
<div class="section level2"><h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2></div>
<div class="section level2">
<h2 id="generic-table-interface">Generic table interface<a class="anchor" aria-label="anchor" href="#generic-table-interface"></a>
</h2>
<p>All fishbase tables can be accessed by name using the <code><a href="reference/fb_tbl.html">fb_tbl()</a></code> function:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fb_tbl.html">fb_tbl</a></span><span class="op">(</span><span class="st">"ecosystem"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 157,870 × 18</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>   autoctr E_CODE Ecosy…¹ Specc…² Stock…³ Status Curre…⁴ Abund…⁵ LifeS…⁶ Remarks</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>     <span class="sc">&lt;</span>int<span class="sc">&gt;</span>  <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>       <span class="dv">1</span>      <span class="dv">1</span>   <span class="dv">50628</span>     <span class="dv">549</span>     <span class="dv">565</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span>       <span class="dv">2</span>      <span class="dv">1</span>     <span class="dv">189</span>     <span class="dv">552</span>     <span class="dv">568</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span>       <span class="dv">3</span>      <span class="dv">1</span>     <span class="dv">189</span>     <span class="dv">554</span>     <span class="dv">570</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span>       <span class="dv">4</span>      <span class="dv">1</span>   <span class="dv">79732</span>     <span class="dv">873</span>     <span class="dv">889</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span>       <span class="dv">5</span>      <span class="dv">1</span>    <span class="dv">5217</span>     <span class="dv">948</span>     <span class="dv">964</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span>       <span class="dv">7</span>      <span class="dv">1</span>   <span class="dv">39852</span>     <span class="dv">956</span>     <span class="dv">972</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span>       <span class="dv">8</span>      <span class="dv">1</span>   <span class="dv">39852</span>     <span class="dv">957</span>     <span class="dv">973</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span>       <span class="dv">9</span>      <span class="dv">1</span>   <span class="dv">39852</span>     <span class="dv">958</span>     <span class="dv">974</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span>      <span class="dv">10</span>      <span class="dv">1</span>     <span class="dv">188</span>    <span class="dv">1526</span>    <span class="dv">1719</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>      <span class="dv">11</span>      <span class="dv">1</span>     <span class="dv">188</span>    <span class="dv">1626</span>    <span class="dv">1819</span> native Present <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>    adults  <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>   </span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 157,860 more rows, 8 more variables: Entered &lt;int&gt;,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   Dateentered &lt;dttm&gt;, Modified &lt;int&gt;, Datemodified &lt;dttm&gt;, Expert &lt;int&gt;,</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   Datechecked &lt;dttm&gt;, WebURL &lt;chr&gt;, TS &lt;dttm&gt;, and abbreviated variable names</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   ¹​EcosystemRefno, ²​Speccode, ³​Stockcode, ⁴​CurrentPresence, ⁵​Abundance,</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   ⁶​LifeStage</span></span></code></pre></div>
<p>You can see all the tables using <code><a href="reference/fb_tables.html">fb_tables()</a></code> to see a list of all the table names (specify <code>sealifebase</code> if desired). Careful, there are a lot of them! The fishbase databases have grown a lot in the decades, and were not intended to be used directly by most end-users, so you may have considerable work to determine what’s what. Keep in mind that many variables can be estimated in different ways (e.g. trophic level), and thus may report different values in different tables. Also note that species is name (or SpecCode) is not always the primary key for a table – many tables are specific to stocks or even individual samples, and some tables are reference lists that are not species focused at all, but meant to be joined to other tables (<code>faoareas</code>, etc). Compare tables against what you see on fishbase.org, or ask on our issues forum for advice!</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fish</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Oreochromis niloticus"</span>, <span class="st">"Salmo trutta"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/fb_tbl.html">fb_tbl</a></span><span class="op">(</span><span class="st">"species"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>sci_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">Genus</span>, <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">sci_name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">fish</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">sci_name</span>, <span class="va">FBname</span>, <span class="va">Length</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 2 × 3</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  sci_name              FBname       Length</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                 <span class="er">&lt;</span>chr<span class="sc">&gt;</span>         <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Oreochromis niloticus Nile tilapia     <span class="dv">60</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Salmo trutta          Sea trout       <span class="dv">140</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sealifebase">SeaLifeBase<a class="anchor" aria-label="anchor" href="#sealifebase"></a>
</h2>
<p>SeaLifeBase.org is maintained by the same organization and largely parallels the database structure of Fishbase. As such, almost all <code>rfishbase</code> functions can instead be instructed to address the</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fb_tbl.html">fb_tbl</a></span><span class="op">(</span><span class="st">"species"</span>, <span class="st">"sealifebase"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 103,169 × 109</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>   SpecCode Genus  Species Author Speci…¹ FBname FamCode Subfa…² GenCode TaxIs…³</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>      <span class="sc">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>    <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>    <span class="dv">10217</span> Abyss… cidaris Poore…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">512</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9280</span>       <span class="dv">0</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span>    <span class="dv">10218</span> Abyss… panope  Poore…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">512</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9280</span>       <span class="dv">0</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span>    <span class="dv">90399</span> Abyss… averin… Kussa…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">502</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="dv">17490</span>       <span class="dv">0</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span>    <span class="dv">52610</span> Abyss… millari Monni…    <span class="dv">2585</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">978</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9281</span>       <span class="dv">0</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span>    <span class="dv">52611</span> Abyss… wyvill… Herdm…    <span class="dv">2892</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">978</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9281</span>       <span class="dv">0</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span>   <span class="dv">138684</span> Abyss… <span class="fu">planus</span>  (Slad…   <span class="dv">81020</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="dv">1615</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>      <span class="dv">24229</span>       <span class="dv">0</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span>    <span class="dv">90400</span> Abyss… acutil… Doti …    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">587</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9282</span>       <span class="dv">0</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span>    <span class="dv">10219</span> Abyss… argent… Menzi…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">587</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9282</span>       <span class="dv">0</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span>    <span class="dv">10220</span> Abyss… bathya… Just,…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">587</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9282</span>       <span class="dv">0</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    <span class="dv">10221</span> Abyss… dentif… Menzi…    <span class="dv">3113</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">587</span> <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>       <span class="dv">9282</span>       <span class="dv">0</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 103,159 more rows, 99 more variables: Remark &lt;chr&gt;,</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   PicPreferredName &lt;chr&gt;, PicPreferredNameM &lt;chr&gt;, PicPreferredNameF &lt;chr&gt;,</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   PicPreferredNameJ &lt;chr&gt;, Source &lt;chr&gt;, AuthorRef &lt;int&gt;, SubGenCode &lt;int&gt;,</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   Fresh &lt;int&gt;, Brack &lt;int&gt;, Saltwater &lt;int&gt;, Land &lt;int&gt;, BodyShapeI &lt;chr&gt;,</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   DemersPelag &lt;chr&gt;, AnaCat &lt;chr&gt;, MigratRef &lt;int&gt;, DepthRangeShallow &lt;int&gt;,</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   DepthRangeDeep &lt;int&gt;, DepthRangeRef &lt;int&gt;, DepthRangeComShallow &lt;int&gt;,</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   DepthRangeComDeep &lt;int&gt;, DepthComRef &lt;int&gt;, LongevityWild &lt;dbl&gt;, …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="versions-and-importing-all-tables">Versions and importing all tables<a class="anchor" aria-label="anchor" href="#versions-and-importing-all-tables"></a>
</h2>
<p>By default, tables are downloaded the first time they are used. <code>rfishbase</code> defaults to download the latest available snapshot; be aware that the most recent snapshot may be months behind the latest data on fishbase.org. Check available releases:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/available_releases.html">available_releases</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"23.01"</span> <span class="st">"21.06"</span> <span class="st">"19.04"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="low-memory-environments">Low-memory environments<a class="anchor" aria-label="anchor" href="#low-memory-environments"></a>
</h2>
<p>If you have very limited RAM (e.g. &lt;= 1 GB available) it may be helpful to use <code>fishbase</code> tables in remote form by setting <code>collect = FALSE</code>. This allows the tables to remain on disk, while the user is still able to use almost all <code>dplyr</code> functions (see the <code>dbplyr</code> vignette). Once the table is appropriately subset, the user will need to call <code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">dplyr::collect()</a></code> to use generic non-dplyr functions, such as plotting commands.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fb_tbl.html">fb_tbl</a></span><span class="op">(</span><span class="st">"occurrence"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 1,097,303 × 106</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>   catnum2 OccurrenceR…¹ SpecC…² Syncode Stock…³ Genus…⁴ Speci…⁵ ColName PicName</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>     <span class="sc">&lt;</span>int<span class="sc">&gt;</span>         <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span>   <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  </span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span>   <span class="dv">34424</span>         <span class="dv">36653</span>     <span class="dv">227</span>   <span class="dv">22902</span>     <span class="dv">241</span> <span class="st">"Megal… "</span>cypri… <span class="st">"Megal… ""     </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="st"> 2   95154         45880      NA      NA      NA ""      ""      ""      ""     </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="st"> 3   97606         45880      NA      NA      NA ""      ""      ""      ""     </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="st"> 4  100025         45880    5520   25676    5809 "</span>Johni… <span class="st">"belan… ""      ""     </span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="st"> 5   98993         45880    5676   16650    5969 "</span>Chrom… <span class="st">"retro… ""      ""     </span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="st"> 6   99316         45880     454   23112     468 "</span>Drepa… <span class="st">"punct… ""      ""     </span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="st"> 7   99676         45880    5388  145485    5647 "</span>Gymno… <span class="st">"bosch… ""      ""     </span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="st"> 8   99843         45880   16813  119925   15264 "</span>Hemir… <span class="st">"balin… ""      ""     </span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="st"> 9  100607         45880    8288   59635    8601 "</span>Ostra… <span class="st">"rhino… ""      ""     </span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="st">10  101529         45880      NA      NA      NA "</span>Scomb… <span class="st">"toloo… ""      ""     </span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="st"># … with 1,097,293 more rows, 97 more variables: CatNum &lt;chr&gt;, URL &lt;chr&gt;,</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="st">#   Station &lt;chr&gt;, Cruise &lt;chr&gt;, Gazetteer &lt;chr&gt;, LocalityType &lt;chr&gt;,</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="st">#   WaterDepthMin &lt;dbl&gt;, WaterDepthMax &lt;dbl&gt;, AltitudeMin &lt;int&gt;,</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="st">#   AltitudeMax &lt;int&gt;, LatitudeDeg &lt;int&gt;, LatitudeMin &lt;dbl&gt;, NorthSouth &lt;chr&gt;,</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="st">#   LatitudeDec &lt;dbl&gt;, LongitudeDeg &lt;int&gt;, LongitudeMIn &lt;dbl&gt;, EastWest &lt;chr&gt;,</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="st">#   LongitudeDec &lt;dbl&gt;, Accuracy &lt;chr&gt;, Salinity &lt;chr&gt;, LatitudeTo &lt;dbl&gt;,</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="st">#   LongitudeTo &lt;dbl&gt;, LatitudeDegTo &lt;int&gt;, LatitudeMinTo &lt;dbl&gt;, …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="local-copy">Local copy<a class="anchor" aria-label="anchor" href="#local-copy"></a>
</h2>
<p>Set the option “rfishbase_local_db” = TRUE to create a local copy, otherwise will use a remote copy. Local copy will get better performance after initial import, but may experience conflicts when <code>duckdb</code> is upgraded or when multiple sessions attempt to access the directory. Remove the default storage directory (given by <code><a href="reference/db_dir.html">db_dir()</a></code>) after upgrading duckdb if using a local copy.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"rfishbase_local_db"</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/db_disconnect.html">db_disconnect</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># close previous remote connection</span></span>
<span></span>
<span><span class="va">conn</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fb_conn.html">fb_conn</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">conn</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>duckdb_connection 5fa20 driver<span class="ot">=</span><span class="er">&lt;</span>duckdb_driver 543a0 dbdir<span class="ot">=</span><span class="st">'/home/cboettig/.local/share/R/rfishbase/fishbase_23.01'</span> read_only<span class="ot">=</span><span class="cn">FALSE</span> bigint<span class="ot">=</span>numeric<span class="sc">&gt;</span><span class="er">&gt;</span></span></code></pre></div>
<p>Users can trigger a one-time download of all fishbase tables (or a list of desired tables) using <code><a href="reference/fb_import.html">fb_import()</a></code>. This will ensure later use of any function can operate smoothly even when no internet connection is available. Any table already downloaded will not be re-downloaded. (Note: <code><a href="reference/fb_import.html">fb_import()</a></code> also returns a remote duckdb database connection to the tables, for users who prefer to work with the remote data objects.)</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/fb_import.html">fb_import</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="sc">&lt;</span>duckdb_connection 5fa20 driver<span class="ot">=</span><span class="er">&lt;</span>duckdb_driver 543a0 dbdir<span class="ot">=</span><span class="st">'/home/cboettig/.local/share/R/rfishbase/fishbase_23.01'</span> read_only<span class="ot">=</span><span class="cn">FALSE</span> bigint<span class="ot">=</span>numeric<span class="sc">&gt;</span><span class="er">&gt;</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interactive-rstudio-pane">Interactive RStudio pane<a class="anchor" aria-label="anchor" href="#interactive-rstudio-pane"></a>
</h2>
<p>RStudio users can also browse all fishbase tables interactively in the RStudio connection browser by using the function <code>fisbase_pane()</code>. Note that this function will first download a complete set of the fishbase tables.</p>
</div>
<div class="section level2">
<h2 id="backwards-compatibility">Backwards compatibility<a class="anchor" aria-label="anchor" href="#backwards-compatibility"></a>
</h2>
<p><code>rfishbase</code> 4.0 tries to maintain as much backwards compatibility as possible with rfishbase 3.0. Because parquet preserves native data types, some encoded types may differ from earlier versions. As before, these are not always the native type – e.g. fishbase encodes some boolean (logical TRUE/FALSE) values as integer (-1, 0) or character types. Use <code><a href="https://rdrr.io/r/base/logical.html" class="external-link">as.logical()</a></code> to coerce into the appropriate type in that case.</p>
<p>Toggling between fishbase and sealifebase servers using an environmental variable, <code>FISHBASE_API</code>, is now deprecated.</p>
<p>Note that fishbase will store downloaded files by hash in the app directory, given by <code><a href="reference/db_dir.html">db_dir()</a></code>. The default location can be set by configuring the desired path in the environmental variable, <code>FISHBASE_HOME</code>.</p>
<hr>
<p>Please note that this package is released with a <a href="https://ropensci.org/code-of-conduct/" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=rfishbase" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ropensci/rfishbase/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ropensci/rfishbase/issues" class="external-link">Report a bug</a></li>
</ul>
</div>



<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rfishbase</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Carl Boettiger <br><small class="roles"> Maintainer, author </small> <a href="https://orcid.org/0000-0002-1642-628X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>
<a href="https://scottchamberlain.info/" class="external-link">Scott Chamberlain</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1444-9135" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Duncan Temple Lang <br><small class="roles"> Author </small>  </li>
<li>Peter Wainwright <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="r-universe">
<h2 data-toc-skip>R-universe</h2>
<ul class="list-unstyled">
<li><p><a href="https://ropensci.r-universe.dev/rfishbase" class="external-link"><img src="https://ropensci.r-universe.dev/badges/rfishbase" alt="rfishbase status badge"></a></p></li>
</ul>
</div>

<div class="software-peer-review">
<h2 data-toc-skip>Software Peer-Review</h2>
<ul class="list-unstyled">
<li><p><a href="https://github.com/ropensci/software-review/issues/137" class="external-link"><img src="https://badges.ropensci.org/137_status.svg" alt="rOpenSci peer-review"></a></p></li>
</ul>
</div>

  </aside>
</div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
